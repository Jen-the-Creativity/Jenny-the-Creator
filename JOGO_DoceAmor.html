<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Mini Amor Doce</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #fce4ec;
    text-align: center;
    padding: 20px;
  }

  #game {
    background: white;
    max-width: 450px;
    margin: auto;
    padding: 20px;
    border-radius: 10px;
  }

  button {
    margin: 5px;
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    background: #ec407a;
    color: white;
  }

  button:hover {
    background: #d81b60;
  }

  .status {
    font-size: 14px;
    margin: 10px 0;
  }
</style>
</head>

<body>

<div id="game">
  <h2 id="sceneTitle">Bem-vindo</h2>
  <p id="text">VocÃª chega em um novo lugar e encontra duas pessoas interessantesâ€¦</p>

  <div class="status" id="status"></div>

  <div id="choices"></div>
</div>

<script>
/* ========================
   DADOS DO JOGO
======================== */

let game = {
  scene: 0,
  alex: 0,
  charlie: 0,
  ended: false
};

function updateStatus() {
  document.getElementById("status").innerText =
    `ðŸ’™ Alex: ${game.alex} | ðŸ’š Charlie: ${game.charlie}`;
}

/* ========================
   SISTEMA DE SAVE
======================== */

function save(slot) {
  localStorage.setItem("slot" + slot, JSON.stringify(game));
  alert("Jogo salvo no Slot " + slot);
}

function load(slot) {
  let data = localStorage.getItem("slot" + slot);
  if (data) {
    game = JSON.parse(data);
    render();
  } else {
    alert("Slot vazio!");
  }
}

function newGame() {
  game = { scene: 0, alex: 0, charlie: 0, ended: false };
  render();
}

/* ========================
   CENAS
======================== */

function render() {
  updateStatus();
  const title = document.getElementById("sceneTitle");
  const text = document.getElementById("text");
  const choices = document.getElementById("choices");

  choices.innerHTML = "";

  if (game.ended) {
    title.innerText = "Fim";
    return;
  }

  if (game.scene === 0) {
    title.innerText = "Primeiro Encontro";
    text.innerText = "Alex e Charlie te observam. Quem vocÃª cumprimenta primeiro?";

    choices.innerHTML = `
      <button onclick="alex(+3); next()">Falar com Alex</button>
      <button onclick="charlie(+3); next()">Falar com Charlie</button>
    `;
  }

  if (game.scene === 1) {
    title.innerText = "Conversa";
    text.innerText = "VocÃª pode passar mais tempo com apenas um deles.";

    choices.innerHTML = `
      <button onclick="alex(+5); charlie(-2); next()">Ficar com Alex</button>
      <button onclick="charlie(+5); alex(-2); next()">Ficar com Charlie</button>
    `;
  }

  if (game.scene === 2) {
    title.innerText = "DecisÃ£o Final";
    text.innerText = "Eles esperam sua escolha finalâ€¦";

    choices.innerHTML = `
      <button onclick="final()">Continuar</button>
    `;
  }

  if (game.scene === 3) {
    final();
  }
}

function next() {
  game.scene++;
  render();
}

/* ========================
   PONTOS
======================== */

function alex(points) {
  game.alex += points;
}

function charlie(points) {
  game.charlie += points;
}

/* ========================
   FINAIS
======================== */

function final() {
  const text = document.getElementById("text");
  const choices = document.getElementById("choices");
  const title = document.getElementById("sceneTitle");

  game.ended = true;
  choices.innerHTML = "";

  if (game.alex > game.charlie) {
    title.innerText = "Final com Alex ðŸ’™";
    text.innerText =
      "VocÃª escolheu Alex. Ele sorri e segura sua mÃ£o. Os dois seguem juntos.";
  } 
  else if (game.charlie > game.alex) {
    title.innerText = "Final com Charlie ðŸ’š";
    text.innerText =
      "VocÃª escolheu Charlie. Ele te abraÃ§a com carinho. Um novo comeÃ§o.";
  } 
  else {
    title.innerText = "Final SolitÃ¡rio";
    text.innerText =
      "VocÃª hesitou demaisâ€¦ e acabou sozinho desta vez.";
  }
}

/* ========================
   MENU INICIAL
======================== */

document.getElementById("choices").innerHTML = `
  <button onclick="newGame()">Novo Jogo</button><br><br>
  <button onclick="load(1)">Carregar Slot 1</button>
  <button onclick="load(2)">Carregar Slot 2</button>
  <button onclick="load(3)">Carregar Slot 3</button><br><br>
  <button onclick="save(1)">Salvar Slot 1</button>
  <button onclick="save(2)">Salvar Slot 2</button>
  <button onclick="save(3)">Salvar Slot 3</button>
`;

updateStatus();
</script>

</body>
</html>
